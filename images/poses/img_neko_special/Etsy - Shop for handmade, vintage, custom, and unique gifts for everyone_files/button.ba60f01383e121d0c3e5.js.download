// For license information, please see: https://site.etsystatic.com/ac/primary/js/en-US/bootstrap/collections/button.ba60f01383e121d0c3e5.js.LICENSE
(function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:false,exports:{}};t[n].call(s.exports,s,s.exports,i);s.l=true;return s.exports}i.m=t;i.c=e;i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:true,get:n})};i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:true})};i.t=function(t,e){1&e&&(t=i(t));if(8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:true,value:t});if(2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n};i.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};i.d(e,"a",e);return e};i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};i.p="https://site.etsystatic.com/ac/primary/js/en-US/";window.__webpack_public_path__&&(i.p=window.__webpack_public_path__);return i(i.s="nQ5S")})({"/lub":function(t,e,i){"use strict";var n=i("BIVT");var s=i.n(n);var o=i("eq2S");var r=function t(){this.init()};r.prototype={init:function t(){var e=this;s()("[data-accessible-btn-fave]").each((function(){s()(this).off("keypress",e.clickFaveButtonOnEnter);s()(this).on("keypress",e.clickFaveButtonOnEnter)}))},clickFaveButtonOnEnter:function t(e){e.which!==o["a"].ENTER&&e.which!==o["a"].SPACE||s()(this).find("[data-btn-fave]").click()}};e["a"]=r},"3ljw":function(t,e,i){"use strict";var n=i("BIVT");var s=i.n(n);var o=i("CRom");var r=i("yUTp");var a=Etsy.Backbone.Collection.extend({model:r["a"],initialize:function t(e){this.userId=e.userId;this.listingsMap=e.listingsMap;this.fetch()},comparator:function t(e,i){if(e.get("is_favorites"))return-1;if(i.get("is_favorites"))return 1;if(!e.get("name"))return 1;if(!i.get("name"))return-1;var n=s()("<div/>").html(e.get("name")).text();var o=s()("<div/>").html(i.get("name")).text();return n.toLowerCase().localeCompare(o.toLowerCase())},url:function t(){return"".concat(Etsy.Backbone.API_URL+this.collectionName,"?user_id=").concat(this.userId)},collectionName:"collections"});var l=a;var c=i("PsQc");var h=i.n(c);h.a.partialsMap=h.a.partialsMap||{};var u=new h.a.Template({code:function(t,e,i){var n=this;n.b(i=i||"");n.b('<div class="ui-toolkit">');n.b("\n"+i);n.b('    <label class="checkbox-custom mb-xs-1">');n.b("\n"+i);n.b('        <input type="checkbox" class="checkbox" tabindex="0"><span class="checkbox-label collection-name">');n.b(n.v(n.f("name",t,e,0)));n.b('<span class="etsy-icon icon-smaller text-gray-lighter float-right"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M17,10V7A5,5,0,0,0,7,7v3H5v8a2,2,0,0,0,2,2H17a2,2,0,0,0,2-2V10H17Zm-4,7a1,1,0,0,1-2,0V13a1,1,0,0,1,2,0v4Zm2-7H9V7a2.935,2.935,0,0,1,3-3,2.935,2.935,0,0,1,3,3v3Z"/></svg></span></span>');n.b("\n"+i);n.b("    </label>");n.b("\n"+i);n.b("</div>");return n.fl()},partials:{},subs:{}},"",h.a);u.name="modules/collections/list_template.mustache";h.a.partialsMap[u.name]=u;var d=function(t){t=t||{};t._messages=Etsy.message_catalog;return u.render.call(u,t,h.a.partialsMap)};d.template=u;var f=d;var g=Backbone.View.extend({tagName:"li",className:"collection",render:function t(){if(!this.htmlRendered){var e={name:s()("<div>").html(this.model.get("name")).text()};this.$el.html(f(e));this.htmlRendered=true}this.$el.removeClass("loading");if(this.model.containsListing(this.options.listing_id)){this.$el.addClass("active");this.$el.find("input").prop("checked",true)}else{this.$el.removeClass("active");this.$el.find("input").prop("checked",false)}return this},events:{click:"toggleCollectListing"},listingAdded:function t(e,i){this.model.get("is_registry")&&Etsy.RegistryBar&&Etsy.RegistryBar.show(i.results);this.render()},listingRemoved:function t(){this.model.get("is_registry")&&Etsy.RegistryBar&&Etsy.RegistryBar.hide();this.render()},initialize:function t(){this.model.on("listing-removed",this.listingRemoved,this);this.model.on("listing-added",this.listingAdded,this);this.model.on("sync",this.render,this);this.$el.addClass("".concat(this.model.get("privacy_level"),"-list"));this.model.get("is_registry")&&this.$el.addClass("registry-list")},toggleCollectListing:function t(e){var i;this.options.parent.trigger("loading");this.$el.addClass("loading");if(this.model.containsListing(this.options.listing_id)){this.model.removeListing(this.options.listing_id);i=false}else{this.model.addListing(this.options.listing_id,{error:function(t,e){var i=JSON.parse(e.responseText);if(i&&i.errors&&i.errors[0]){var n=i.errors[0];var s="";_(n).each((function(t,e){s+=t.join(" ")}));alert(s)}}.bind(this)});i=true}this.options.parent.logListingEvent(this.options.listing_id,this.model,i)}});var p=g;var v=13;var m=27;var y=9;var b=Backbone.View.extend({initialize:function t(){this.collection_list=this.$(".list-main");this.aux_list=this.$(".list-aux");this.aux_container=this.$(".aux-collections");this.parent_view=null;this.your_lists_link=this.$(".user-collections a").prop("href","/people/".concat(Etsy.getSignedInLoginName(),"/favorites?ref=list_btn"));this.handleFocus()},handleFocus:function t(){var e=this;this.$el.on("focusin",(function(){e.$el.addClass("chooser-focus")}));this.$el.on("focusout",(function(t){e.$el.removeClass("chooser-focus");t.stopPropagation()}))},alignStandard:function t(){this.$el.removeClass("right-aligned")},alignRight:function t(){this.$el.addClass("right-aligned")},getElRightPosition:function t(e){return e.offset().left+e.width()},adjustAlignment:function t(e){var i=this.getElRightPosition(this.$el),n=e&&e.length?this.getElRightPosition(e):s()(window).width();i>n?this.alignRight():this.alignStandard()},events:{"click .new-collections input.text":"activateAddCollection","keyup .new-collections input.text":"addCollectionKeyUp","click .new-collections button":"handleAddCollection","keydown .new-collections button":"hideChooserKeyDown",keyup:"hideChooserKeyUp"},activateAddCollection:function t(e){this.$el.find(".new-collections").addClass("activated")},addCollectionKeyUp:function t(e){e.which===v&&this.handleAddCollection(e)},focusOnYourListsLink:function t(){this.your_lists_link.trigger("focus")},handleAddCollection:function t(e){e.preventDefault();var i=this.$("input[type=text]").val();i=s.a.trim(i);this.parent_view.createCollectionAndAddListing(i);this.$(".new-collections").addClass("hide");this.collection_list.append(Etsy.template('<li class="collection loading shim"><span class="icon"></span><span class="collection-name"> <%+ name %></span>',{name:i}))},hideChooserKeyDown:function t(e){e.which===y&&!e.shiftKey&&this.parent_view.container.hasClass("show-menu")&&this.parent_view.hideChooser()},hideChooserKeyUp:function t(e){e.which===m&&this.parent_view.container.hasClass("show-menu")&&this.parent_view.hideChooser()},setParent:function t(e){this.parent_view=e},resetState:function t(){this.aux_container.hide();this.aux_list.empty();this.collection_list.empty();var e=this.$(".new-collections");e.removeClass("hide activated");e.find("input.text").val("");this.$el.removeClass("no-lists");this.collection_list.find(".collection.shim").remove()},reinitialize:function t(e,i){var n=this;var s=false;var o=false;this.resetState();i.each((function(t){if(!t.get("is_favorites")){o=true;if("page_collection"===t.get("type")){if(!s){n.aux_container.show();n.aux_container.find("label").html('<a href="/pages/'.concat(t.get("page_slug"),'?ref=list_btn">').concat(t.get("page_name"),"</a>"));s=true}n.addCollection(e,t,n.aux_list)}else n.addCollection(e,t,n.collection_list)}}));this.$el.toggleClass("no-lists",!o)},addCollection:function t(e,i,n){var s=new p({model:i,listing_id:e,parent:this.parent_view});i.on("sync",this.postListingAdded,this);n.append(s.render().el)},postListingAdded:function t(){this.collection_list.find(".collection.shim").remove()}});var w=b;h.a.partialsMap=h.a.partialsMap||{};var E=new h.a.Template({code:function(t,e,i){var n=this;n.b(i=i||"");n.b('<div class="collection-chooser">');n.b("\n"+i);n.b('    <div class="aux-collections">');n.b("\n"+i);n.b('        <label class="collection-group"></label>');n.b("\n"+i);n.b('        <ul class="collection-list list-aux  clear">');n.b("\n"+i);n.b("        </ul>");n.b("\n"+i);n.b("    </div>");n.b("\n"+i);n.b('    <div class="user-collections">');n.b("\n"+i);n.b('        <label class="collection-group">');n.b("\n"+i);n.b("            <a>Your lists</a>");n.b("\n"+i);n.b("        </label>");n.b("\n"+i);n.b('        <ul class="collection-list list-main clear">');n.b("\n"+i);n.b("        </ul>");n.b("\n");n.b("\n"+i);n.b('        <div class="new-collections clear">');n.b("\n"+i);n.b('            <input type="text" class="text" placeholder="New list" />');n.b("\n"+i);n.b('            <button class="btn-primary small btn">Add</button>');n.b("\n");n.b("\n"+i);n.b('            <div class="error-msg"></div>');n.b("\n"+i);n.b("        </div>");n.b("\n"+i);n.b("    </div>");n.b("\n");n.b("\n"+i);n.b('    <span class="arrow"></span>');n.b("\n"+i);n.b("</div>");return n.fl()},partials:{},subs:{}},"",h.a);E.name="modules/collections/chooser.mustache";h.a.partialsMap[E.name]=E;var C=function(t){t=t||{};t._messages=Etsy.message_catalog;return E.render.call(E,t,h.a.partialsMap)};C.template=E;var x=C;var S=function t(e){this.chooser=e};S.prototype={getChooser:function t(){return this.chooser},detach:function t(){this.chooser.$el.detach();this.chooser.off()},detachFrom:function t(e){var i=s()(e)[0];s.a.contains(i,this.chooser.el)&&this.detach()},attachTo:function t(e,i,n,s){this.detach();this.chooser.setParent(i);this.chooser.reinitialize(n,s);this.chooser.$el.appendTo(e)}};S.getSingleton=function(){Etsy.Sets=Etsy.Sets||{};Etsy.Sets.Context=Etsy.Sets.Context||{};if(!Etsy.Sets.Context.collectionsChooser){var t=new w({el:s()(x())});Etsy.Sets.Context.collectionsChooser=new S(t)}return Etsy.Sets.Context.collectionsChooser};var k=S;var O=i("w1yB");var I=Backbone.View.extend({initialize:function t(){this.user_id=Etsy.getSignedInUserId();this.user_login_name=Etsy.getSignedInLoginName();this.container=this.$el.parents(".collect-container");this.shared_chooser_manager=k.getSingleton();this.shared_chooser=this.shared_chooser_manager.getChooser();this.recent_list=this.container.find(".list-featured");this.count=this.$el.find(".count");this.listing_card=this.$el.closest(".collected-listing,.listing-card,.object-card");this.card_grid=O["a"].getData("collections_use_grid",false)?this.listing_card.parent():null;this.listing_id=this.container.data("listing-id");this.options.listingsMap.add({listing_id:this.listing_id});this.options.collections?this.updateCollections():this.options.collections=new l({userId:this.user_id});var e=this;this.options.collections.on("reset",this.updateCollections,this);this.options.collections.on("add",this.updateCollections,this);this.handleOutsideClick();this.handleHover();this.handleFocus();this.on("loading",(function(){e.container.addClass("loading");e.$el.addClass("loading")}));this.collectionSaveSuccess=this.collectionSaveSuccess.bind(this);this.collectionSaveError=this.collectionSaveError.bind(this)},handleHover:function t(){var e=this,i=null;this.listing_card.on("mouseleave",(function(){var t=e.container.hasClass("show-menu")?500:0;i=window.setTimeout((function(){e.listing_card.removeClass("col-hover");e.hideChooser()}),t)}));this.listing_card.on("mouseenter",(function(){e.listing_card.addClass("col-hover");window.clearTimeout(i)}))},handleFocus:function t(){var e=this;this.listing_card.on("focusin",(function(){e.listing_card.addClass("col-focus")}));this.listing_card.on("focusout",(function(){e.shared_chooser.$el.hasClass("chooser-focus")||e.listing_card.removeClass("col-focus")}))},hideChooser:function t(){this.container.removeClass("show-menu");this.shared_chooser.alignStandard();this.shared_chooser_manager.detachFrom(this.container);this.listing_card.css({"z-index":"auto"});this.$el.attr({"aria-expanded":false})},events:{click:"toggleCollectionChooser"},handleOutsideClick:function t(){var e=this;this.container.on("click",(function(t){t.stopPropagation()}));s()("html").on("click",(function(){e.hideChooser()}))},toggleCollectionChooser:function t(e){this.container.toggleClass("show-menu");this.shared_chooser.alignStandard();this.$el.attr({"aria-expanded":this.container.hasClass("show-menu")});if(this.container.hasClass("show-menu")){this.listing_card.css({"z-index":1e4});var i={php_event_name:"list_open",source:s()(".btn-fave, [data-btn-fave]").data("source")};i=s.a.extend(true,Etsy.LoggingParams.getFromDOM(this.$el),i);var n=s.a.extend(true,{},i);Etsy.EventLogger.logEvent(i);n.php_event_name="collection_icon_clicked";Etsy.EventLogger.logEvent(n);this.shared_chooser_manager.attachTo(this.container,this,this.listing_id,this.options.collections);this.shared_chooser.adjustAlignment(this.card_grid);this.shared_chooser.focusOnYourListsLink()}else this.shared_chooser_manager.detachFrom(this.container);e.preventDefault()},updateCollections:function t(){this.options.collections.each((function(t){t.off("sync",this.postListingAdded,this);t.on("sync",this.postListingAdded,this)}),this);if(O["a"].data.collection){var e=this.options.collections.where({key:O["a"].data.collection.key});if(e.length>0){e[0].on("listing-removed",(function(t){this.listing_id==t&&this.listing_card.addClass("removed")}),this);e[0].on("listing-added",(function(t){this.listing_id==t&&this.listing_card.removeClass("removed")}),this)}}this.updateCollectionState()},addCollection:function t(e,i){var n=new p({model:e,listing_id:this.listing_id,parent:this});e.on("sync",this.postListingAdded,this);i.append(n.render().el)},postListingAdded:function t(){this.updateCollectionState();this.container.removeClass("loading");this.$el.removeClass("loading");this.hideChooser()},updateCollectionState:function t(){var e=this.options.collections.filter((function(t){return!t.get("is_favorites")}));var i=_(e).filter((function(t){return t.containsListing(this.listing_id)}),this).length;i?this.$el.addClass("done"):this.$el.removeClass("done")},createCollectionAndAddListing:function t(e){this.trigger("loading");var i=new r["a"];i.save({name:e},{success:this.collectionSaveSuccess,error:this.collectionSaveError})},collectionSaveSuccess:function t(e,i){var n=s()(".favorite-container .btn-fave, .favorite-container [data-btn-fave]").data("source");this.options.collections.models.push(e);this.options.collections.trigger("add",e);e.addListing(this.listing_id);var o={php_event_name:"collection_create",collection_id:e.get("collection_id"),name:e.get("name"),source:n};o=s.a.extend(true,Etsy.LoggingParams.getFromDOM(this.$el),o);Etsy.EventLogger.logEvent(o);this.logListingEvent(this.listing_id,e,true)},collectionSaveError:function t(e,i){if(Array.isArray(i))alert(_(i).pluck("message").join(" "));else{var n=JSON.parse(i.responseText);if(n.errors&&n.errors[0]){var s=n.errors[0];var o="";_(s).each((function(t,e){o+=t.join(" ")}));alert(o)}else alert("There was a problem creating your collection.")}this.postListingAdded()},isInListingCard:function t(){return this.container.parents(".listing-card").length>0},logListingEvent:function t(e,i,n){var o=s()(".favorite-container .btn-fave, .favorite-container [data-btn-fave]").data("source");var r={php_event_name:n?"list_add":"list_remove",listing_id:e,source:o};r=s.a.extend(true,Etsy.LoggingParams.getFromDOM(this.$el),r);var a;var l;if(i.get("is_registry")){a=s.a.extend(true,{},r);r.list_type="registry";r.list_id=i.get("collection_id");a.php_event_name=n?"listing_registry_add":"listing_registry_remove";a.registry_id=i.get("collection_id");Etsy.EventLogger.logEvent(a)}else{l=s.a.extend(true,{},r);r.list_name=i.get("name");r.list_type="collection";r.list_id=i.get("collection_id");l.php_event_name=n?"collection_add":"collection_remove";l.collection_name=i.get("name");l.collection_id=i.get("collection_id");l=s.a.extend(true,Etsy.LoggingParams.getFromDOM(this.$el),l);Etsy.EventLogger.logEvent(l)}Etsy.EventLogger.logEvent(r)}});var A=I;var L=i("/lub");var P="favorite";var $="[data-btn-fave-icon]";var N=Backbone.View.extend({events:{click:"toggleFavorites"},initialize:function t(){this.user_id=Etsy.getSignedInUserId();this.container=this.$el.closest(".favorite-container");this.listing_id=this.container.data("listing-id");this.icon=this.$el.find($);this.icon.length||(this.icon=this.$el);this.options.listingsMap.add({listing_id:this.listing_id});this.options.collections?this.updateModel():this.options.collections=new l({userId:this.user_id});this.options.collections.on("reset",this.updateModel,this);this.isCurrentCollection=false;Etsy.Context.data.collection&&(this.isCurrentCollection=Etsy.Context.data.collection.is_favorites);new L["a"]},updateModel:function t(){var e=this.options.collections.where({is_favorites:true})[0];if(!e)return;this.model=e;this.model.on("sync",this.render,this);this.model.on("listing-added",this.listingAdded,this);this.model.on("listing-removed",this.listingRemoved,this);this.render()},listingAdded:function t(e){this.isCurrentCollection&&this.listing_id==e&&this.icon.addClass("removed")},listingRemoved:function t(e){this.isCurrentCollection&&this.listing_id==e&&this.icon.removeClass("removed")},render:function t(){this.icon.removeClass("loading");if(this.model.containsListing(this.listing_id)){this.icon.addClass("done");this.$el.addClass("is-favorited");this.$el.attr({"aria-pressed":true})}else{this.icon.removeClass("done");this.$el.removeClass("is-favorited");this.$el.attr({"aria-pressed":false})}},toggleFavorites:function t(e){e.preventDefault();e.stopPropagation();e.returnValue=false;e.cancelBubble=true;if(!this.model)return;var i=this.$el.data("source");var n=this.$el.data("can-refavorite")||false;var o=this.$el.data("attributee-id");var r=true;this.icon.addClass("loading");if(this.model.containsListing(this.listing_id))this.model.removeListing(this.listing_id);else{o?this.model.addListing(this.listing_id,{attributee_id:o}):this.model.addListing(this.listing_id);r=false}var a={php_event_name:r?"remove_favorite_item":"favorite_item",listing_id:this.listing_id,source:i};a=s.a.extend(true,Etsy.LoggingParams.getFromDOM(this.$el),a);if("listing"==i){a.shop_id=this.$el.data("shop-id");a.shop_user_id=this.$el.data("shop-user-id");a.shop_shop_id=this.$el.data("shop-shop-id");a.position=this.$el.data("position")}if(!r&&o){a.attributee_id=o;a.attribution_source=this.$el.data("attribution-source")||P;s()(document).trigger("etsy:favorite:button:toggle",[this.listing_id,i,o,n])}var l=s.a.extend(true,{},a);var c=s.a.extend(true,{},a);Etsy.EventLogger.logEvent(a);l.php_event_name="".concat(l.php_event_name,"_clicked");Etsy.EventLogger.logEvent(l);c.php_event_name="favorite_item"===a.php_event_name?"list_add":"list_remove";c.list_type="favorites";Etsy.EventLogger.logEvent(c)}});var T=N;var B=i("Zora");var M=Backbone.Collection.extend({map:{},fetchCollections:function t(){var e=this.pluck("listing_id");if(!e.length)return;s.a.ajax({url:"".concat(B["a"].API_URL,"collections/listings_map"),data:{listing_ids:e.join(",")},context:this}).done((function(t){if(t&&t.results&&t.results[0]){this.reset();_.each(t.results[0],(function(t,e){this.map[e]||(this.map[e]=[]);_.each(t,(function(t){this.map[e].push(t)}),this)}),this);this.trigger("sync",t.results[0])}}))}});var R=M;var j=function t(){if(!Etsy.getSignedInUserId())return;this.listingsMap=new R;this.userCollections=new l({userId:Etsy.getSignedInUserId(),listingsMap:this.listingsMap});this.initializeButtons()};j.prototype={initializeButtons:function t(){var e=this;s()(".btn-collect, [data-btn-collect]").not(".overlay-trigger").each((function(){if(!s()(this).data("view")){var t=new A({el:s()(this),listingsMap:e.listingsMap,collections:e.userCollections});s()(this).data("view",t)}}));s()(".btn-fave, [data-btn-fave]").not(".overlay-trigger, [data-neu-fave]").each((function(){if(!s()(this).data("view")){var t=new T({el:s()(this),listingsMap:e.listingsMap,collections:e.userCollections});s()(this).data("view",t)}}));this.listingsMap.fetchCollections()}};j.init=function(){Etsy.Sets=Etsy.Sets||{};Etsy.Sets.Context=Etsy.Sets.Context||{};Etsy.Sets.Context.app||(Etsy.Sets.Context.app=new j);return Etsy.Sets.Context.app};var U=e["a"]=j},BIVT:function(t,e,i){var n,s;!(n=[],s=function(){return window.$}.apply(e,n),void 0!==s&&(t.exports=s))},CRom:function(t,e,i){"use strict";var n=i("BIVT");var s=i.n(n);var o;function r(){"undefined"===typeof o&&(o=s()("html").data("user-login-name"));return o}window.Etsy&&(window.Etsy.getSignedInLoginName=r);var a=r;function l(t){"@babel/helpers - typeof";l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return l(t)}window.Etsy=window.Etsy||{};var c=window.Etsy;var h;c.Util={empty:function t(e){var i=l(e);return"undefined"===i||null===e||"string"===i&&0===e.length||"object"===i&&"length"in e&&0===e.length},getOrDefault:function t(e,i){return c.Util.empty(e)?i:e},getCookieByName:E,setCookie:y,setSelectionRange:u,isSignedIn:d,getSignedInUserId:f,getSignedInLoginName:a,cookiesEnabled:g,readTransientValue:v,setTransientValue:m,eraseTransientValue:_,isTouch:b,deleteCookieByName:w};c.Util.selectTabFromOverlay=function(t,e){var i=s()(t);i.find(".tabs li").removeClass("active");i.find(".tabs li a").attr("aria-selected","false");i.find(".overlay-body > div").hide();s()("#".concat(e)).parent().addClass("active");s()("#".concat(e)).attr("aria-selected","true");s()(t).find("[data-inline-overlay-tab-content]").attr("aria-hidden","true");var n=s()("#".concat(e,"-content")).show();n.attr("aria-hidden","false");return n};c.Util.hasNeverSignedIn=function(){return null===E("LD")};c.Util.keyCodeInRange=function(t){var e=Array.prototype.slice.call(arguments,1),i=0,n=e.length;if(n<2||n%2!==0)return false;for(i=0;i<n;i+=2)if(t>=e[i].charCodeAt(0)&&t<=e[i+1].charCodeAt(0))return true;return false};function u(t,e,i){if(t.setSelectionRange){t.focus();t.setSelectionRange(e,i)}else if(t.createTextRange){var n=t.createTextRange();n.collapse(true);n.moveEnd("character",i);n.moveStart("character",e);n.select()}}c.setSelectionRange=u;function d(){return null!==c.getSignedInUserId()}c.isSignedIn=d;function f(){if("undefined"!==typeof h)return h;var t=s()("html").data("user-id");t||(t=s()("#header").data("user-id"));h=t?parseInt(t):null;return h}c.getSignedInUserId=f;c.Util._resetSignedInUser=function(){h=void 0};function g(){var t=navigator.cookieEnabled;if("undefined"===typeof t){document.cookie="testcookie";t=-1!==document.cookie.indexOf("testcookie")}return!!t}c.cookiesEnabled=g;var p="tsd";function v(t){var e=C();if(e.hasOwnProperty(t))return e[t];return null}c.readTransientValue=v;function m(t,e){var i=C();i[t]=e;x(i)}c.setTransientValue=m;function _(t){var e=C();if(e.hasOwnProperty(t)){delete e[t];x(e)}}c.eraseTransientValue=_;c.getCookieByName=function(t){false;return E(t)};function y(t,e,i,n){n="undefined"===typeof n?null:n;var s="";if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3);s="; expires=".concat(o.toGMTString())}var r="; path=/";n&&(r="; domain=".concat(n).concat(r));document.cookie="".concat(t,"=").concat(e).concat(s).concat(r)}c.setCookie=y;function b(){if(document.body&&document.body.className)return-1!==document.body.className.indexOf("is-touch");return false}c.isTouch=b;function w(t,e){c.setCookie(t,"",-1,e)}c.deleteCookieByName=w;c.preload=function(t){var e=t.length,i=window.document,n=i.body,s="fileSize"in i,o;while(e--){if(s){(new Image).src=t[e];continue}o=i.createElement("object");o.data=t[e];o.width=o.height=0;n.appendChild(o)}};function E(t){var e="".concat(t,"=");var i=document.cookie.split(";");for(var n=0;n<i.length;n++){var s=i[n];while(" "===s.charAt(0))s=s.substring(1,s.length);if(0===s.indexOf(e))return unescape(s.substring(e.length,s.length))}return null}function C(){var t=E(p);return null!==t?JSON.parse(t):{}}function x(t){var e=escape(JSON.stringify(t));var i=new Date;i.setTime(i.getTime()+10*60*1e3);var n="; expires=".concat(i.toGMTString());var s="; domain=.".concat(document.location.hostname);document.cookie="".concat(p,"=").concat(e).concat(n,"; path=/").concat(s)}s()(document).on("click",".jquery-toggle",(function(t){t.preventDefault();s()("#".concat(s()(this).data("toggle-id"))).toggle()}));s()(document).on("keydown","a[role=button]",(function(t){if(32===t.keyCode||32===t.which){t.preventDefault();s()(t.target).click()}}));window.addEventListener?window.addEventListener("hashchange",(function(){var t=document.getElementById(location.hash.substring(1));if(t){/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1);t.focus()}}),false):window.attachEvent&&window.attachEvent("hashchange",(function(){var t=document.getElementById(location.hash.substring(1));if(t){/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1);t.trigger("focus")}}));var S=e["a"]=window.Etsy.Util},LLnS:function(t,e,i){"use strict";var e=void 0;(function(){(function(){var t=this;var n=t.Backbone;var s=Array.prototype.slice;var o=Array.prototype.splice;var r;r="undefined"!==typeof e?e:t.Backbone={};r.VERSION="0.9.2";var a=t._;a||"function"==="undefined"||(a=i("Qmnl"));var l=t.jQuery||t.Zepto||t.ender;r.setDomLibrary=function(t){l=t};r.noConflict=function(){t.Backbone=n;return this};r.emulateHTTP=false;r.emulateJSON=false;var c=/\s+/;var h=r.Events={on:function t(e,i,n){var s,o,r,a,l;if(!i)return this;e=e.split(c);s=this._callbacks||(this._callbacks={});while(o=e.shift()){l=s[o];r=l?l.tail:{};r.next=a={};r.context=n;r.callback=i;s[o]={tail:a,next:l?l.next:r}}return this},off:function t(e,i,n){var s,o,r,l,h,u;if(!(o=this._callbacks))return;if(!(e||i||n)){delete this._callbacks;return this}e=e?e.split(c):a.keys(o);while(s=e.shift()){r=o[s];delete o[s];if(!r||!(i||n))continue;l=r.tail;while((r=r.next)!==l){h=r.callback;u=r.context;(i&&h!==i||n&&u!==n)&&this.on(s,h,u)}}return this},trigger:function t(e){var i,n,o,r,a,l,h;if(!(o=this._callbacks))return this;l=o.all;e=e.split(c);h=s.call(arguments,1);while(i=e.shift()){if(n=o[i]){r=n.tail;while((n=n.next)!==r)n.callback.apply(n.context||this,h)}if(n=l){r=n.tail;a=[i].concat(h);while((n=n.next)!==r)n.callback.apply(n.context||this,a)}}return this}};h.bind=h.on;h.unbind=h.off;var u=r.Model=function(t,e){var i;t||(t={});e&&e.parse&&(t=this.parse(t));(i=I(this,"defaults"))&&(t=a.extend({},i,t));e&&e.collection&&(this.collection=e.collection);this.attributes={};this._escapedAttributes={};this.cid=a.uniqueId("c");this.changed={};this._silent={};this._pending={};this.set(t,{silent:true});this.changed={};this._silent={};this._pending={};this._previousAttributes=a.clone(this.attributes);this.initialize.apply(this,arguments)};a.extend(u.prototype,h,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function t(){},toJSON:function t(e){return a.clone(this.attributes)},get:function t(e){return this.attributes[e]},escape:function t(e){var i;if(i=this._escapedAttributes[e])return i;var n=this.get(e);return this._escapedAttributes[e]=a.escape(null==n?"":""+n)},has:function t(e){return null!=this.get(e)},set:function t(e,i,n){var s,o,r;if(a.isObject(e)||null==e){s=e;n=i}else{s={};s[e]=i}n||(n={});if(!s)return this;s instanceof u&&(s=s.attributes);if(n.unset)for(o in s)s[o]=void 0;if(!this._validate(s,n))return false;this.idAttribute in s&&(this.id=s[this.idAttribute]);var l=n.changes={};var c=this.attributes;var h=this._escapedAttributes;var d=this._previousAttributes||{};for(o in s){r=s[o];if(!a.isEqual(c[o],r)||n.unset&&a.has(c,o)){delete h[o];(n.silent?this._silent:l)[o]=true}n.unset?delete c[o]:c[o]=r;if(a.isEqual(d[o],r)&&a.has(c,o)==a.has(d,o)){delete this.changed[o];delete this._pending[o]}else{this.changed[o]=r;n.silent||(this._pending[o]=true)}}n.silent||this.change(n);return this},unset:function t(e,i){(i||(i={})).unset=true;return this.set(e,null,i)},clear:function t(e){(e||(e={})).unset=true;return this.set(a.clone(this.attributes),e)},fetch:function t(e){e=e?a.clone(e):{};var i=this;var n=e.success;e.success=function(t,s,o){if(!i.set(i.parse(t,o),e))return false;n&&n(i,t)};e.error=r.wrapError(e.error,i,e);return(this.sync||r.sync).call(this,"read",this,e)},save:function t(e,i,n){var s,o;if(a.isObject(e)||null==e){s=e;n=i}else{s={};s[e]=i}n=n?a.clone(n):{};if(n.wait){if(!this._validate(s,n))return false;o=a.clone(this.attributes)}var l=a.extend({},n,{silent:true});if(s&&!this.set(s,n.wait?l:n))return false;var c=this;var h=n.success;n.success=function(t,e,i){var o=c.parse(t,i);if(n.wait){delete n.wait;o=a.extend(s||{},o)}if(!c.set(o,n))return false;h?h(c,t):c.trigger("sync",c,t,n)};n.error=r.wrapError(n.error,c,n);var u=this.isNew()?"create":"update";var d=(this.sync||r.sync).call(this,u,this,n);n.wait&&this.set(o,l);return d},destroy:function t(e){e=e?a.clone(e):{};var i=this;var n=e.success;var s=function t(){i.trigger("destroy",i,i.collection,e)};if(this.isNew()){s();return false}e.success=function(t){e.wait&&s();n?n(i,t):i.trigger("sync",i,t,e)};e.error=r.wrapError(e.error,i,e);var o=(this.sync||r.sync).call(this,"delete",this,e);e.wait||s();return o},url:function t(){var e=I(this,"urlRoot")||I(this.collection,"url")||A();if(this.isNew())return e;return e+("/"==e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function t(e,i){return e},clone:function t(){return new this.constructor(this.attributes)},isNew:function t(){return null==this.id},change:function t(e){e||(e={});var i=this._changing;this._changing=true;for(var n in this._silent)this._pending[n]=true;var s=a.extend({},e.changes,this._silent);this._silent={};for(var n in s)this.trigger("change:"+n,this,this.get(n),e);if(i)return this;while(!a.isEmpty(this._pending)){this._pending={};this.trigger("change",this,e);for(var n in this.changed){if(this._pending[n]||this._silent[n])continue;delete this.changed[n]}this._previousAttributes=a.clone(this.attributes)}this._changing=false;return this},hasChanged:function t(e){if(!arguments.length)return!a.isEmpty(this.changed);return a.has(this.changed,e)},changedAttributes:function t(e){if(!e)return!!this.hasChanged()&&a.clone(this.changed);var i,n=false,s=this._previousAttributes;for(var o in e){if(a.isEqual(s[o],i=e[o]))continue;(n||(n={}))[o]=i}return n},previous:function t(e){if(!arguments.length||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function t(){return a.clone(this._previousAttributes)},isValid:function t(){return!this.validate(this.attributes)},_validate:function t(e,i){if(i.silent||!this.validate)return true;e=a.extend({},this.attributes,e);var n=this.validate(e,i);if(!n)return true;i&&i.error?i.error(this,n,i):this.trigger("error",this,n,i);return false}});var d=r.Collection=function(t,e){e||(e={});e.model&&(this.model=e.model);e.comparator&&(this.comparator=e.comparator);this._reset();this.initialize.apply(this,arguments);t&&this.reset(t,{silent:true,parse:e.parse})};a.extend(d.prototype,h,{model:u,initialize:function t(){},toJSON:function t(e){return this.map((function(t){return t.toJSON(e)}))},add:function t(e,i){var n,s,r,l,c,h,u={},d={},f=[];i||(i={});e=a.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){if(!(l=e[n]=this._prepareModel(e[n],i)))throw new Error("Can't add an invalid model to a collection");c=l.cid;h=l.id;if(u[c]||this._byCid[c]||null!=h&&(d[h]||this._byId[h])){f.push(n);continue}u[c]=d[h]=l}n=f.length;while(n--)e.splice(f[n],1);for(n=0,r=e.length;n<r;n++){(l=e[n]).on("all",this._onModelEvent,this);this._byCid[l.cid]=l;null!=l.id&&(this._byId[l.id]=l)}this.length+=r;s=null!=i.at?i.at:this.models.length;o.apply(this.models,[s,0].concat(e));this.comparator&&this.sort({silent:true});if(i.silent)return this;for(n=0,r=this.models.length;n<r;n++){if(!u[(l=this.models[n]).cid])continue;i.index=n;l.trigger("add",l,this,i)}return this},remove:function t(e,i){var n,s,o,r;i||(i={});e=a.isArray(e)?e.slice():[e];for(n=0,s=e.length;n<s;n++){r=this.getByCid(e[n])||this.get(e[n]);if(!r)continue;delete this._byId[r.id];delete this._byCid[r.cid];o=this.indexOf(r);this.models.splice(o,1);this.length--;if(!i.silent){i.index=o;r.trigger("remove",r,this,i)}this._removeReference(r)}return this},push:function t(e,i){e=this._prepareModel(e,i);this.add(e,i);return e},pop:function t(e){var i=this.at(this.length-1);this.remove(i,e);return i},unshift:function t(e,i){e=this._prepareModel(e,i);this.add(e,a.extend({at:0},i));return e},shift:function t(e){var i=this.at(0);this.remove(i,e);return i},get:function t(e){if(null==e)return;return this._byId[null!=e.id?e.id:e]},getByCid:function t(e){return e&&this._byCid[e.cid||e]},at:function t(e){return this.models[e]},where:function t(e){if(a.isEmpty(e))return[];return this.filter((function(t){for(var i in e)if(e[i]!==t.get(i))return false;return true}))},sort:function t(e){e||(e={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var i=a.bind(this.comparator,this);1==this.comparator.length?this.models=this.sortBy(i):this.models.sort(i);e.silent||this.trigger("reset",this,e);return this},pluck:function t(e){return a.map(this.models,(function(t){return t.get(e)}))},reset:function t(e,i){e||(e=[]);i||(i={});for(var n=0,s=this.models.length;n<s;n++)this._removeReference(this.models[n]);this._reset();this.add(e,a.extend({silent:true},i));i.silent||this.trigger("reset",this,i);return this},fetch:function t(e){e=e?a.clone(e):{};void 0===e.parse&&(e.parse=true);var i=this;var n=e.success;e.success=function(t,s,o){i[e.add?"add":"reset"](i.parse(t,o),e);n&&n(i,t)};e.error=r.wrapError(e.error,i,e);return(this.sync||r.sync).call(this,"read",this,e)},create:function t(e,i){var n=this;i=i?a.clone(i):{};e=this._prepareModel(e,i);if(!e)return false;i.wait||n.add(e,i);var s=i.success;i.success=function(t,o,r){i.wait&&n.add(t,i);s?s(t,o):t.trigger("sync",e,o,i)};e.save(null,i);return e},parse:function t(e,i){return e},chain:function t(){return a(this.models).chain()},_reset:function t(e){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function t(e,i){i||(i={});if(e instanceof u)e.collection||(e.collection=this);else{var n=e;i.collection=this;e=new this.model(n,i);e._validate(e.attributes,i)||(e=false)}return e},_removeReference:function t(e){this==e.collection&&delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function t(e,i,n,s){if(("add"==e||"remove"==e)&&n!=this)return;"destroy"==e&&this.remove(i,s);if(i&&e==="change:"+i.idAttribute){delete this._byId[i.previous(i.idAttribute)];this._byId[i.id]=i}this.trigger.apply(this,arguments)}});var f=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];a.each(f,(function(t){d.prototype[t]=function(){return a[t].apply(a,[this.models].concat(a.toArray(arguments)))}}));var g=r.Router=function(t){t||(t={});t.routes&&(this.routes=t.routes);this._bindRoutes();this.initialize.apply(this,arguments)};var p=/:\w+/g;var v=/\*\w+/g;var m=/[-[\]{}()+?.,\\^$|#\s]/g;a.extend(g.prototype,h,{initialize:function t(){},route:function t(e,i,n){r.history||(r.history=new _);a.isRegExp(e)||(e=this._routeToRegExp(e));n||(n=this[i]);r.history.route(e,a.bind((function(t){var s=this._extractParameters(e,t);n&&n.apply(this,s);this.trigger.apply(this,["route:"+i].concat(s));r.history.trigger("route",this,i,s)}),this));return this},navigate:function t(e,i){r.history.navigate(e,i)},_bindRoutes:function t(){if(!this.routes)return;var e=[];for(var i in this.routes)e.unshift([i,this.routes[i]]);for(var n=0,s=e.length;n<s;n++)this.route(e[n][0],e[n][1],this[e[n][1]])},_routeToRegExp:function t(e){e=e.replace(m,"\\$&").replace(p,"([^/]+)").replace(v,"(.*?)");return new RegExp("^"+e+"$")},_extractParameters:function t(e,i){return e.exec(i).slice(1)}});var _=r.History=function(){this.handlers=[];a.bindAll(this,"checkUrl")};var y=/^[#\/]/;var b=/msie [\w.]+/;_.started=false;a.extend(_.prototype,h,{interval:50,getHash:function t(e){var i=e?e.location:window.location;var n=i.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function t(e,i){if(null==e)if(this._hasPushState||i){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();e.indexOf(this.options.root)||(e=e.substr(this.options.root.length));return e.replace(y,"")},start:function t(e){if(_.started)throw new Error("Backbone.history has already been started");_.started=true;this.options=a.extend({},{root:"/"},this.options,e);this._wantsHashChange=false!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var i=this.getFragment();var n=document.documentMode;var s=b.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);if(s){this.iframe=l('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(i)}this._hasPushState?l(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?l(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=i;var o=window.location;var r=o.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!r){this.fragment=this.getFragment(null,true);window.location.replace(this.options.root+"#"+this.fragment);return true}if(this._wantsPushState&&this._hasPushState&&r&&o.hash){this.fragment=this.getHash().replace(y,"");window.history.replaceState({},document.title,o.protocol+"//"+o.host+this.options.root+this.fragment)}if(!this.options.silent)return this.loadUrl()},stop:function t(){l(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);_.started=false},route:function t(e,i){this.handlers.unshift({route:e,callback:i})},checkUrl:function t(e){var i=this.getFragment();i==this.fragment&&this.iframe&&(i=this.getFragment(this.getHash(this.iframe)));if(i==this.fragment)return false;this.iframe&&this.navigate(i);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function t(e){var i=this.fragment=this.getFragment(e);var n=a.any(this.handlers,(function(t){if(t.route.test(i)){t.callback(i);return true}}));return n},navigate:function t(e,i){if(!_.started)return false;i&&true!==i||(i={trigger:i});var n=(e||"").replace(y,"");if(this.fragment==n)return;if(this._hasPushState){0!=n.indexOf(this.options.root)&&(n=this.options.root+n);this.fragment=n;window.history[i.replace?"replaceState":"pushState"]({},document.title,n)}else if(this._wantsHashChange){this.fragment=n;this._updateHash(window.location,n,i.replace);if(this.iframe&&n!=this.getFragment(this.getHash(this.iframe))){i.replace||this.iframe.document.open().close();this._updateHash(this.iframe.location,n,i.replace)}}else window.location.assign(this.options.root+e);i.trigger&&this.loadUrl(e)},_updateHash:function t(e,i,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+i):e.hash=i}});var w=r.View=function(t){this.cid=a.uniqueId("view");this._configure(t||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var E=/^(\S+)\s*(.*)$/;var C=["model","collection","el","id","attributes","className","tagName"];a.extend(w.prototype,h,{tagName:"div",$:function t(e){return this.$el.find(e)},initialize:function t(){},render:function t(){return this},remove:function t(){this.$el.remove();return this},make:function t(e,i,n){var s=document.createElement(e);i&&l(s).attr(i);n&&l(s).html(n);return s},setElement:function t(e,i){this.$el&&this.undelegateEvents();this.$el=e instanceof l?e:l(e);this.el=this.$el[0];false!==i&&this.delegateEvents();return this},delegateEvents:function t(e){if(!(e||(e=I(this,"events"))))return;this.undelegateEvents();for(var i in e){var n=e[i];a.isFunction(n)||(n=this[e[i]]);if(!n)throw new Error('Method "'+e[i]+'" does not exist');var s=i.match(E);var o=s[1],r=s[2];n=a.bind(n,this);o+=".delegateEvents"+this.cid;""===r?this.$el.bind(o,n):this.$el.delegate(r,o,n)}},undelegateEvents:function t(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function t(e){this.options&&(e=a.extend({},this.options,e));for(var i=0,n=C.length;i<n;i++){var s=C[i];e[s]&&(this[s]=e[s])}this.options=e},_ensureElement:function t(){if(this.el)this.setElement(this.el,false);else{var e=I(this,"attributes")||{};this.id&&(e.id=this.id);this.className&&(e["class"]=this.className);this.setElement(this.make(this.tagName,e),false)}}});var x=function t(e,i){var n=O(this,e,i);n.extend=this.extend;return n};u.extend=d.extend=g.extend=w.extend=x;var S={create:"POST",update:"PUT",delete:"DELETE",read:"GET"};r.sync=function(t,e,i){var n=S[t];i||(i={});var s={type:n,dataType:"json"};i.url||(s.url=I(e,"url")||A());if(!i.data&&e&&("create"==t||"update"==t)){s.contentType="application/json";s.data=JSON.stringify(e.toJSON())}if(r.emulateJSON){s.contentType="application/x-www-form-urlencoded";s.data=s.data?{model:s.data}:{}}if(r.emulateHTTP&&("PUT"===n||"DELETE"===n)){r.emulateJSON&&(s.data._method=n);s.type="POST";s.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",n)}}"GET"===s.type||r.emulateJSON||(s.processData=false);return l.ajax(a.extend(s,i))};r.wrapError=function(t,e,i){return function(n,s){s=n===e?s:n;t?t(e,s,i):e.trigger("error",e,s,i)}};var k=function t(){};var O=function t(e,i,n){var s;s=i&&i.hasOwnProperty("constructor")?i.constructor:function t(){e.apply(this,arguments)};a.extend(s,e);k.prototype=e.prototype;s.prototype=new k;i&&a.extend(s.prototype,i);n&&a.extend(s,n);s.prototype.constructor=s;s.__super__=e.prototype;return s};var I=function t(e,i){if(!(e&&e[i]))return null;return a.isFunction(e[i])?e[i]():e[i]};var A=function t(){throw new Error('A "url" property or function must be specified')}}).call(this)}).call(window)},PsQc:function(t,e,i){var n,s;var e=void 0;(function(){!(n=[],s=function(){return window.hogan}.apply(e,n),void 0!==s&&(t.exports=s))}).call(window)},Qmnl:function(t,e,i){var n,s;!(n=[],s=function(){return window._}.apply(e,n),void 0!==s&&(t.exports=s))},Zora:function(t,e,i){"use strict";var n=i("BIVT");var s=i.n(n);window.Etsy=window.Etsy||{};var o=window.Etsy;o.Backbone=o.Backbone||{};o.Backbone.API_URL="/api/v2/ajax/";o.Backbone.Model=Backbone.Model.extend({toJSON:function t(){return _(_.clone(this.attributes)).extend({_nnc:o.csrf_nonce})},parse:function t(e){if(e&&e.results){if(1===e.results.length)return e.results[0];return e.results}return e},idField:"id",callAPIMethod:function t(e,i,n){i["_nnc"]=o.csrf_nonce;var r=this.url()+"/"+e;var a=this;s.a.post(r,i,(function(t){var e=a.parse(t);a.set(e);n&&n(e)}),"json")},modelName:"",getId:function t(){return this.get(this.idField)},url:function t(){var e=this.getId();return void 0!==e?o.Backbone.API_URL+this.modelName+"/"+e:o.Backbone.API_URL+this.modelName}});o.Backbone.Collection=Backbone.Collection.extend({url:function t(){return o.Backbone.API_URL+this.collectionName},parse:function t(e){if(e&&e.results)return e.results;return[]},collectionName:""});var r=Backbone.sync;Backbone.sync=function(t,e,i){if("read"!==t){i=i||{};i.data=i.data||{};if("delete"==t){i.headers=i.headers||{};i.headers["X-Csrf-Token"]||(i.headers["X-Csrf-Token"]=o.csrf_nonce)}else i.data=_.extend(i.data,{_nnc:o.csrf_nonce});"create"!=t&&"update"!=t||(i.data=_.extend(i.data,e.toJSON()));i.data=JSON.stringify(i.data);i.contentType="application/json"}r.call(this,t,e,i)};e["a"]=o.Backbone},eq2S:function(t,e,i){"use strict";var n={SPACE:"Space",ENTER:"Enter"};var s=function t(e){return e>=48&&e<=57};var o=function t(e){return e>=96&&e<=105};var r=function t(e){return e>=65&&e<=90};e["a"]={DELETE:8,TAB:9,ENTER:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:46,PERIOD:110,DECIMAL_POINT:190,CODES:n,isNumericKey:s,isNumpadNumericKey:o,isAlphabetKey:r}},nQ5S:function(t,e,i){"use strict";i.r(e);var n=i("BIVT");var s=i.n(n);var o=i("LLnS");var r=i.n(o);var a=i("Zora");var l=i("njmj");var c=i("3ljw");var h=c["a"].init();void 0===s.a&&Etsy.Logger.error("Unexpected missing jquery implementation");s()(document.body).on("etsy.listing.loaded",null,{},(function(t){h.initializeButtons()}))},njmj:function(t,e,i){"use strict";(function(){window.Etsy=window.Etsy||{};Etsy.LoggingParams={getFromDOM:function t(e){var i={},n=$(e);if(n.length){var s=n.data();$.each(s,(function(t,e){if("logging"==t.substring(0,7)){var n=t.substring(7).toLowerCase();i[n]=e}}))}return i}}})();var n=Etsy.LoggingParams},w1yB:function(t,e,i){"use strict";function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),true).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:true,configurable:true,writable:true}):t[e]=i;return t}function r(t){"@babel/helpers - typeof";r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return r(t)}var a=window.Etsy=window.Etsy||{};a.Context=a.Context||{};var l=a.Context.feature||{};var c=a.Context.data||{};function h(t){var e=l;false;if(!Object.prototype.hasOwnProperty.call(e,t))return false;return!!e[t]}function u(t,e){var i=String(t).split(".");var n=c;var s=arguments.length>1;false;if("string"!==typeof t||i.length<1)throw new Error("Etsy.Context.getData() called with an invalid key: ".concat(t));while(i.length>1&&Object.prototype.hasOwnProperty.call(n,i[0])){var o=i.shift();if(!o)continue;n=n[o]}if(i.length>1||!Object.prototype.hasOwnProperty.call(n,i[0])){if(s)return e;throw new Error("Etsy.Context.getData() called with an unspecified key, no default value provided: ".concat(t))}return n[i[0]]}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var i=u(t,e);return"boolean"===typeof i?i:e}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var i=u(t,e);return"string"===typeof i?i:e}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var i=u(t,e);return"number"===typeof i?i:e}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var i=u(t,e);var n=i&&"object"===r(i)&&!Array.isArray(i);return n?i:e}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var i=u(t,e);return Array.isArray(i)?i:e}function m(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.reduce((function(t,e){return s(o({},e,u(e,null)),t)}),{})}a.Context.__FORCE_OVERRIDE_CONTEXT_DATA__PLEASE_DONT_USE_THIS_OH_GOD_WHY_GOD_WHY=function(t){a.Context.data=t;c=t};a.Context.featureIsEnabled=h;a.Context.getData=u;a.Context.getBoolean=d;a.Context.getString=f;a.Context.getNumber=g;a.Context.getObject=p;a.Context.getArray=v;a.Context.pluck=m;e["a"]=a.Context},yUTp:function(t,e,i){"use strict";var n=i("BIVT");var s=i.n(n);var o=i("Zora");var r=o["a"].Model.extend({modelName:"listings",idField:"listing_id",idAttribute:"listing_id",defaults:{is_fetching:false},url:function t(){return"".concat(o["a"].API_URL+this.getCollectionBasePath()+this.modelName,"/").concat(this.getId())},getCollectionBasePath:function t(){var e=this.get("collection"),i="".concat(e.modelName,"/");var n=e.get("type");"collection"!==n&&"favorites"!==n&&(i+="".concat(n,"/"));i+="".concat(e.getId(),"/");return i},isNew:function t(){if(this.get("deleting"))return false;return true}});var a=r;var l=Etsy.Backbone.Collection.extend({model:a,collectionName:"listings",initialize:function t(e){this.collectionKey=e.collectionKey;this.collectionId=e.collection_id;e&&e.fetch&&this.fetch()},url:function t(){return"".concat(Etsy.Backbone.API_URL,"collections/").concat(this.collectionKey,"/").concat(this.collectionName)}});var c=l;var h=i("w1yB");var u=Etsy.Backbone.Model.extend({modelName:"collections",idField:"key",url:function t(){var e=Etsy.Backbone.API_URL+this.modelName;var i=this.get("type");if(i&&"page_collection"==i){e="".concat(Etsy.Backbone.API_URL,"pages/").concat(this.get("creator_id"),"/").concat(this.modelName);var n=this.get("id");"undefined"!==typeof n&&(e+="/".concat(n));return e}var n=this.getId();if("undefined"!==typeof n)return"".concat(e,"/").concat(n);return e},addListing:function t(e,i){var n=new a({listing_id:e,collection:this});var o={listing_id:e,collection_type:this.get("type")};i&&i.attributee_id&&(o.attributee_id=i.attributee_id);this.get("is_registry")&&h["a"].data.registry_attr&&(o["registry_attr"]=h["a"].data.registry_attr);n.save(o,{success:function(t,o){"favorites"==this.get("type")&&s()(document).trigger("etsy:favorite:add",[t.toJSON(),o]);"collection"==this.get("type")&&s()(document).trigger("etsy:collect:add",[t.toJSON(),o]);this.getListings().add(n);this.trigger("listing-added",e,o);n.trigger("sync",this,o);i&&i.success&&i.success.apply(this,arguments)}.bind(this),error:function(t,e){this.trigger("sync",this,e);i&&i.error&&i.error.apply(this,arguments)}.bind(this)})},initialize:function t(){this.on("listing-added",this.listingAdded,this);this.on("listing-removed",this.listingRemoved,this);this.listing_index={};if(h["a"].data.listings_to_collections||this.collection&&this.collection.listingsMap&&this.collection.listingsMap.map){var e=h["a"].data.listings_to_collections;this.collection&&this.collection.listingsMap&&this.collection.listingsMap.map&&(e=this.collection.listingsMap.map);this.updateListingIndex(e)}else this.updateListingIndex();this.collection&&this.collection.listingsMap&&this.collection.listingsMap.on("sync",(function(t){this.updateListingIndex(t)}),this)},listingAdded:function t(e){this.listing_index[e]=true;this.trigger("sync")},listingRemoved:function t(e){delete this.listing_index[e];this.trigger("sync")},updateListingIndex:function t(e){this.getListings().each((function(t){t.get("listing_id")&&(this.listing_index[t.get("listing_id")]=true)}),this);e&&_(e).each((function(t,e){_(t).each((function(t){t==this.get("key")&&(this.listing_index[e]=true)}),this)}),this);this.trigger("sync")},removeListing:function t(e){var i=this.getListings().where({listing_id:e}),n;n=0==i.length?new a({listing_id:e,collection:this,collection_type:this.get("type")}):i[0];n.set("deleting",true);n.set("collection_type",this.get("collection_type"));var s=this;n.destroy({success:function t(i,o){s.trigger("listing-removed",e);n.trigger("sync",this,o)},error:function t(){console.error("Error")}})},containsListing:function t(e){return e in this.listing_index},parse:function t(e){var i=Etsy.Backbone.Model.prototype.parse.call(this,e);this.collectionKey=i.key;this.collectionId=i.collection_id;var n=this;if(i.listing_ids){var s=[];_.each(i.listing_ids,(function(t,e,i){s.push({listing_id:parseInt(t),collection:n})}));this.getListings().reset(s)}return i},getListings:function t(){this.listings||(this.listings=new c({collectionKey:this.collectionKey,collectionId:this.collectionId}));return this.listings},defaults:{is_fetching:false},validate:function t(e,i){var n=[];0==e.name.length&&n.push({message:"Your list must have a name."});this.collection&&e.name.length>0&&this.collection.filter((function(t){return t.get("name")==e.name&&t.get("key")!=this.get("key")}),this).length>0&&n.push({message:"You already have a list named ".concat(e.name,".")});if(n.length>0)return n}});var d=e["a"]=u}});